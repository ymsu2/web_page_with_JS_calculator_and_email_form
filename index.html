<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Калькулятор топлива</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container my-5">
        <div class="row">
            <div class="col-lg-8">
                <!-- Калькулятор -->
                <div class="calculator-card">
                    <h2 class="mb-4">Калькулятор стоимости топлива</h2>
                    
                    <!-- Выбор региона -->
                    <div class="mb-4">
                        <label class="form-label">Регион</label>
                        <div class="custom-select">
                            <select class="form-select" id="region">
                                <option value="1">Регион 1 (макс. 1200 тонн)</option>
                                <option value="2">Регион 2 (макс. 800 тонн)</option>
                                <option value="3">Регион 3 (макс. 500 тонн)</option>
                            </select>
                        </div>
                    </div>

                    <!-- Прокачка -->
                    <div class="mb-4">
                        <label class="form-label">Прокачка: <span id="throughput-value">100</span> тонн</label>
                        <input type="range" class="form-range" id="throughput" min="1" max="1200" value="100">
                    </div>

                    <!-- Тип топлива -->
                    <div class="mb-4">
                        <label class="form-label">Тип топлива</label>
                        <div class="btn-group w-100" role="group">
                            <input type="radio" class="btn-check" name="fuelType" id="petrol" value="petrol" checked>
                            <label class="btn btn-outline-primary" for="petrol">Бензин</label>
                            
                            <input type="radio" class="btn-check" name="fuelType" id="gas" value="gas">
                            <label class="btn btn-outline-primary" for="gas">Газ</label>
                            
                            <input type="radio" class="btn-check" name="fuelType" id="diesel" value="diesel">
                            <label class="btn btn-outline-primary" for="diesel">ДТ</label>
                        </div>
                    </div>

                    <!-- Бренд -->
                    <div class="mb-4">
                        <label class="form-label">Бренд</label>
                        <div class="btn-group w-100" role="group" id="brand-buttons">
                            <!-- Бренды будут заполняться через JS -->
                        </div>
                    </div>

                    <!-- Дополнительные услуги -->
                    <div class="mb-4">
                        <label class="form-label">Дополнительные услуги (макс. 4)</label>
                        <div class="services-grid" id="services-container">
                            <!-- Услуги будут заполняться через JS -->
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4">
                <!-- Правая часть с результатами -->
                <div class="results-card">
                    <!-- Тариф -->
                    <div class="mb-4">
                        <label class="form-label">Тариф</label>
                        <div class="btn-group-vertical w-100" role="group">
                            <input type="radio" class="btn-check" name="tariff" id="economy" value="economy">
                            <label class="btn btn-outline-primary" for="economy">Эконом</label>
                            
                            <input type="radio" class="btn-check" name="tariff" id="selected" value="selected" checked>
                            <label class="btn btn-outline-primary" for="selected">Избранный</label>
                            
                            <input type="radio" class="btn-check" name="tariff" id="premium" value="premium">
                            <label class="btn btn-outline-primary" for="premium">Премиум</label>
                        </div>
                    </div>

                    <!-- Промо-акция -->
                    <div class="mb-4">
                        <label class="form-label">Промо-акция</label>
                        <div class="promo-buttons" id="promo-container">
                            <!-- Промо-акции будут заполняться через JS -->
                        </div>
                    </div>

                    <!-- Результаты расчета -->
                    <div class="calculation-results">
                        <div class="result-item">
                            <span>Стоимость топлива в месяц:</span>
                            <strong id="monthly-cost">0 ₽</strong>
                        </div>
                        <div class="result-item">
                            <span>Суммарная скидка:</span>
                            <strong id="total-discount">0%</strong>
                        </div>
                        <div class="result-item">
                            <span>Экономия в месяц:</span>
                            <strong id="monthly-saving">0 ₽</strong>
                        </div>
                        <div class="result-item">
                            <span>Экономия в год:</span>
                            <strong id="yearly-saving">0 ₽</strong>
                        </div>
                    </div>

                    <!-- Кнопка заказа -->
                    <button class="btn btn-primary w-100 mt-4" id="order-btn">Заказать тариф «Избранный»</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Модальное окно -->
    <div class="modal fade" id="orderModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Заказать тариф</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="order-form">
                        <div class="mb-3">
                            <label class="form-label">Номер ИНН *</label>
                            <input type="text" class="form-control" id="inn" maxlength="12" required placeholder="Введите 12 цифр">
                            <div class="invalid-feedback">ИНН должен содержать ровно 12 цифр</div>
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">E-mail для связи *</label>
                            <input type="email" class="form-control" id="email" required placeholder="example@email.com">
                            <div class="invalid-feedback">Введите корректный e-mail</div>
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">Телефон для связи *</label>
                            <input type="tel" class="form-control" id="phone" maxlength="11" required placeholder="Введите 11 цифр">
                            <div class="invalid-feedback">Телефон должен содержать ровно 11 цифр</div>
                        </div>

                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="agreement" required>
                            <label class="form-check-label" for="agreement">Я согласен с условиями использования и политикой конфиденциальности *</label>
                            <div class="invalid-feedback">Вы должны согласиться с условиями</div>
                        </div>
                        
                        <div id="form-message"></div>
                    </form>

                    <!-- Блок с расчетными данными -->
                    <div class="calculation-data mt-4 p-4">
                        <h6 class="mb-3">Расчетные данные:</h6>
                        <div class="row">
                            <div class="col-md-6">
                                <p><strong>Регион:</strong> <span id="modal-region">-</span></p>
                                <p><strong>Прокачка:</strong> <span id="modal-throughput">-</span></p>
                                <p><strong>Тип топлива:</strong> <span id="modal-fuel-type">-</span></p>
                                <p><strong>Бренд:</strong> <span id="modal-brand">-</span></p>
                            </div>
                            <div class="col-md-6">
                                <p><strong>Тариф:</strong> <span id="modal-tariff">-</span></p>
                                <p><strong>Промо-акция:</strong> <span id="modal-promo">-</span></p>
                                <p><strong>Суммарная скидка:</strong> <span id="modal-total-discount">-</span></p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <p><strong>Дополнительные услуги:</strong> <span id="modal-services">Не выбраны</span></p>
                            </div>
                        </div>
                        <div class="row border-top pt-3 mt-2">
                            <div class="col-md-6">
                                <p><strong>Стоимость топлива в месяц:</strong><br><span id="modal-monthly-cost" class="fs-5">-</span></p>
                            </div>
                            <div class="col-md-6">
                                <p><strong>Экономия в месяц:</strong><br><span id="modal-monthly-saving" class="fs-5">-</span></p>
                                <p><strong>Экономия в год:</strong><br><span id="modal-yearly-saving" class="fs-5">-</span></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Отмена</button>
                    <button type="button" class="btn btn-primary" id="submit-order">Отправить</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="js/script.js"></script>
</body>
</html>